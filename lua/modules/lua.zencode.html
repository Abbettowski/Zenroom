<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Zenroom LUA</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Zenroom</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Given_block__IN_read_only_memory_">Given block (IN read-only memory) </a></li>
<li><a href="#When_block__ACK_read_write_memory_">When block (ACK read-write memory) </a></li>
<li><a href="#Then_block__OUT_write_only_memory_">Then block (OUT write-only memory) </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/OCTET.html">OCTET</a></li>
  <li><a href="../modules/HASH.html">HASH</a></li>
  <li><a href="../modules/ECDH.html">ECDH</a></li>
  <li><a href="../modules/ECP.html">ECP</a></li>
  <li><a href="../modules/String.html">String</a></li>
  <li><a href="../modules/Table.html">Table</a></li>
  <li><a href="../modules/INSPECT.html">INSPECT</a></li>
  <li><strong>lua.zencode</strong></li>
  <li><a href="../modules/BIG.html">BIG</a></li>
</ul>
<h2>Tutorials</h2>
<ul class="nowrap">
  <li><a href="../tutorials/Syntax.html">Syntax</a></li>
  <li><a href="../tutorials/StateMachine.html">StateMachine</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/keygen.lua.html">keygen.lua</a></li>
  <li><a href="../examples/crypt-to-multi.lua.html">crypt-to-multi.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>lua.zencode</code></h1>
<p>

<h1>Zencode language parser</h1>


<p> <a href="https://dev.zenroom.org/zencode/">Zencode</a> is a Domain
 Specific Language (DSL) made to be understood by humans.</p>
</p>
<p> Its
 purpose is detailed in <a
 href="https://files.dyne.org/zenroom/Zencode_Whitepaper.pdf">the
 Zencode Whitepaper</a> and DECODE EU project.</p>

<p> An example of Zencode looks like this:</p>

<p> <code>
 Given that I am known as 'Alice'</p>

<p> When I create my new keypair</p>

<p> Then print my data
 </code></p>

<p> The Zenroom VM is capable of parsing specific scenarios written in
 Zencode and execute high-level cryptographic operations described
 in them; this is to facilitate the integration of complex
 operations in software and the non-literate understanding of what a
 distributed application does.</p>

<p> This section doesn't provide the documentation on how to write
 Zencode. Refer to the links above to learn it. This documentation
 continues to illustrate internals: how the Zencode direct-syntax
 parser is made, how it integrates in the Zenroom memory model.</p>


<h2><a href="#Given_block__IN_read_only_memory_">Given block (IN read-only memory) </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ZEN:Iam">ZEN:Iam (name)</a></td>
	<td class="summary">Declare 'my own' name that will refer all uses of the 'my' pronoun
 to structures contained under this name.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:pick">ZEN:pick (name, data)</a></td>
	<td class="summary">Pick a generic data structure from the <b>IN</b> memory
 space.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:pickin">ZEN:pickin (section, name)</a></td>
	<td class="summary">Pick a data structure named 'what' contained under a 'section' key
 of the at the root of the <b>IN</b> memory space.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:validate">ZEN:validate (name, schema)</a></td>
	<td class="summary">Optional step inside the <b>Given</b> block to execute schema
 validation on the last data structure selected by <a href="../modules/lua.zencode.html#ZEN:pick">pick</a>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:ack">ZEN:ack (name)</a></td>
	<td class="summary">Final step inside the <b>Given</b> block towards the <b>When</b>:
 pass on a data structure into the ACK memory space, ready for
 processing.</td>
	</tr>
</table>
<h2><a href="#When_block__ACK_read_write_memory_">When block (ACK read-write memory) </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ZEN:draft">ZEN:draft (string)</a></td>
	<td class="summary">Draft a new text made of a simple string: convert it to <a href="../modules/OCTET.html#">OCTET</a>
 and append it to ACK.draft.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:eq">ZEN:eq ()</a></td>
	<td class="summary">Compare equality of two data objects (TODO: octet, ECP, etc.)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:gt">ZEN:gt ()</a></td>
	<td class="summary">Check that the first object is greater than the second (TODO)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:lt">ZEN:lt ()</a></td>
	<td class="summary">Check that the first object is lesser than the second (TODO)</td>
	</tr>
</table>
<h2><a href="#Then_block__OUT_write_only_memory_">Then block (OUT write-only memory) </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ZEN:out">ZEN:out ()</a></td>
	<td class="summary">Move a generic data structure from ACK to OUT memory space, ready
 for its final JSON encoding and print out.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:outmy">ZEN:outmy ()</a></td>
	<td class="summary">Move 'my own' data structure from ACK to OUT.whoami memory space,
 ready for its final JSON encoding and print out.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:export">ZEN:export (object, format)</a></td>
	<td class="summary">Convert a data object to the desired format (argument name provided
 as string), or use CONF.encoding when called without argument</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ZEN:import">ZEN:import (object)</a></td>
	<td class="summary">Import a generic data element from the tagged format, or use
 CONF.encoding</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#begin">begin (verbosity)</a></td>
	<td class="summary">ZENCODE PARSER</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Given_block__IN_read_only_memory_"></a>Given block (IN read-only memory) </h2>




    <dl class="function">
    <dt>
    <a name = "ZEN:Iam"></a>
    <strong>ZEN:Iam (name)</strong>
    </dt>
    <dd>
    Declare 'my own' name that will refer all uses of the 'my' pronoun
 to structures contained under this name. (name)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
         own name to be saved in ACK.whoami
        </li>
    </ul>





</dd>
    <dt>
    <a name = "ZEN:pick"></a>
    <strong>ZEN:pick (name, data)</strong>
    </dt>
    <dd>
    Pick a generic data structure from the <b>IN</b> memory
 space.  Looks for named data on the first and second level and makes
 it ready for <a href="../modules/lua.zencode.html#ZEN:validate">validate</a> or <a href="../modules/lua.zencode.html#ZEN:ack">ack</a>.
(name, data)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
         string descriptor of the data object
        </li>
        <li><span class="parameter">data</span>
        [opt] optional data object (default search inside IN.*)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true or false
    </ol>




</dd>
    <dt>
    <a name = "ZEN:pickin"></a>
    <strong>ZEN:pickin (section, name)</strong>
    </dt>
    <dd>
    Pick a data structure named 'what' contained under a 'section' key
 of the at the root of the <b>IN</b> memory space.  Looks for named
 data at the first and second level underneath IN[section] and moves
 it to TMP[what][section], ready for <a href="../modules/lua.zencode.html#ZEN:validate">validate</a> or <a href="../modules/lua.zencode.html#ZEN:ack">ack</a>. If
 TMP[what] exists already, every new entry is added as a key/value
(section, name)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">section</span>
         string descriptor of the section containing the data
        </li>
        <li><span class="parameter">name</span>
         string descriptor of the data object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true or false
    </ol>




</dd>
    <dt>
    <a name = "ZEN:validate"></a>
    <strong>ZEN:validate (name, schema)</strong>
    </dt>
    <dd>
    Optional step inside the <b>Given</b> block to execute schema
 validation on the last data structure selected by <a href="../modules/lua.zencode.html#ZEN:pick">pick</a>. (name)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
         string descriptor of the data object
        </li>
        <li><span class="parameter">schema</span>
        [opt] string descriptor of the schema to validate
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true or false
    </ol>




</dd>
    <dt>
    <a name = "ZEN:ack"></a>
    <strong>ZEN:ack (name)</strong>
    </dt>
    <dd>
    Final step inside the <b>Given</b> block towards the <b>When</b>:
 pass on a data structure into the ACK memory space, ready for
 processing.   It requires the data to be present in TMP[name] and
 typically follows a <a href="../modules/lua.zencode.html#ZEN:pick">pick</a>. In some restricted cases it is used
 inside a <b>When</b> block following the inline insertion of data
 from zencode.
(name)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
         string key of the data object in TMP[name]
        </li>
    </ul>





</dd>
</dl>
    <h2><a name="When_block__ACK_read_write_memory_"></a>When block (ACK read-write memory) </h2>




    <dl class="function">
    <dt>
    <a name = "ZEN:draft"></a>
    <strong>ZEN:draft (string)</strong>
    </dt>
    <dd>
    Draft a new text made of a simple string: convert it to <a href="../modules/OCTET.html#">OCTET</a>
 and append it to ACK.draft. (string)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">string</span>
         any string to be appended as draft
        </li>
    </ul>





</dd>
    <dt>
    <a name = "ZEN:eq"></a>
    <strong>ZEN:eq ()</strong>
    </dt>
    <dd>
    Compare equality of two data objects (TODO: octet, ECP, etc.) (first, second)







</dd>
    <dt>
    <a name = "ZEN:gt"></a>
    <strong>ZEN:gt ()</strong>
    </dt>
    <dd>
    Check that the first object is greater than the second (TODO) (first, second)







</dd>
    <dt>
    <a name = "ZEN:lt"></a>
    <strong>ZEN:lt ()</strong>
    </dt>
    <dd>
    Check that the first object is lesser than the second (TODO) (first, second)







</dd>
</dl>
    <h2><a name="Then_block__OUT_write_only_memory_"></a>Then block (OUT write-only memory) </h2>




    <dl class="function">
    <dt>
    <a name = "ZEN:out"></a>
    <strong>ZEN:out ()</strong>
    </dt>
    <dd>
    Move a generic data structure from ACK to OUT memory space, ready
 for its final JSON encoding and print out. (name)







</dd>
    <dt>
    <a name = "ZEN:outmy"></a>
    <strong>ZEN:outmy ()</strong>
    </dt>
    <dd>
    Move 'my own' data structure from ACK to OUT.whoami memory space,
 ready for its final JSON encoding and print out. (name)







</dd>
    <dt>
    <a name = "ZEN:export"></a>
    <strong>ZEN:export (object, format)</strong>
    </dt>
    <dd>
    Convert a data object to the desired format (argument name provided
 as string), or use CONF.encoding when called without argument (object, format)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         data element to be converted
        </li>
        <li><span class="parameter">format</span>
         pointer to a converter function
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        object converted to format
    </ol>




</dd>
    <dt>
    <a name = "ZEN:import"></a>
    <strong>ZEN:import (object)</strong>
    </dt>
    <dd>
    Import a generic data element from the tagged format, or use
 CONF.encoding (object)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         data element to be read
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        object read
    </ol>




</dd>
    <dt>
    <a name = "begin"></a>
    <strong>begin (verbosity)</strong>
    </dt>
    <dd>
    ZENCODE PARSER


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">verbosity</span>



        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2019-12-26 19:36:38 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
]==]

